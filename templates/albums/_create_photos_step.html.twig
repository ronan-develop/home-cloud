{# templates/albums/_create_photos_step.html.twig #}
<div class="max-w-3xl mx-auto mt-10 p-6 bg-white/90 rounded-xl shadow-lg">
	<h2 class="text-xl font-bold mb-4">Sélectionner les photos à ajouter à l'album</h2>
	<form method="post" action="{{ path('album_new') }}" id="album-photos-form">
		<div
			id="photo-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 mb-6" data-api-url="{{ path('api_photos_lazy') }}" data-preselected="{{ album is defined and album.photos|length > 0 ? album.photos|map(p => p.id)|json_encode : '[]' }}">{# Les vignettes seront chargées dynamiquement en JS (lazy loading/infinite scroll) #}
		</div>
		<input type="hidden" name="selected_photos" id="selected_photos" value="">
		<button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition">Continuer</button>
	</form>
</div>
